{"path":"_aula_virtual/SJK002/SJK002-U6-Contours.pdf","text":"SJK002 Computer VisionMaster in Intelligent SytemsU6. Contours2U6. ContoursIndexDefinitionsRepresentation of curvesCurve fitting•Error measures•Linear piecewise fitting•Other fittingsRegression•Robust regressionHough transform3U6. ContoursDefinitionsContour representation:•Simple and compact•Precise•Adequate to make operations easierDefinitions:•Border list:Set of ordered points•Contour:Set of borders or curve•Frontier:Closed contour that includes a region4U6. ContoursGeometryofa curverk1nruRepresentation types:•Explicit•Implicit•ParametricDefinitions:•Tangent unitary vector•Normal vector•Curvature•Curve length5U6. ContoursDigital curvesBasic representation:Definitions:•K-slope(angle)•Left K-slope•Right K-slope2/2/kikippikippkiipp(border points)6U6. ContoursDigital curvesK-curvature: Difference between left K-slopeand right K-slopeContour length:2-curvature7U6. ContoursRepresentations: chaincode56667),(11yx6,7,6,6,5),(11yxº45•Easy for rotations multiple of 45º•Dervative is invariant to rotations8U6. ContoursCurve fittingTypes of fitting:•Interpolation:Curve goes through all points•Approximation:Curve pass near to points but not necessarily through themIf all points are considered valid:Curve model:•Linear segments•Circular arcs, conic sections, cubic “splines”, …If there are “outliers”:Robust regression:•Least Median Squares•RansacModel selection:•Depending on application9U6. ContoursError measuresDistance of point i to the curveMaximum Absolut ErrorMean Square ErrorNormalized Maximum Error10U6. ContoursLinear segments),(00yx),(nnyx0cybxaabcFor two vertices:11U6. ContoursVerticesselection(Top-down)maxd12U6. ContoursVerticesselection(Bottom-up)Add píxels to the segmentwhile fitting error is lessthan a threshold13U6. ContoursSplit & mergeAlgorithm:•Top-down division•Union of adjacent segments using the “normalized error” measure•Repeat until no changesObservations:•After a union step, a segment could be divided at a different point•The use of normalized error in the union step allows merging into a single segment14U6. ContoursCircular arcsCircumference:15U6. ContoursConicsectionsEach conic section is defined by:•2 points (nodules)•2 tangents (at the nodules)•1 additional point of the curveNodule16U6. ContoursCubicsplinesSpline:•Piecewise curve of any type of functionCubic spline: order 3 polynomial•Very much used•It enforces continuity of the tangent at the nodules3210,,,]1,0[aaaauare vectors),(iyixaa17U6. ContoursRegressionRequires:•Definition of a model•Definition of an error mesure between samples and model•Solution Error minimizationExample:Linear regression minimizing Least Square Error (LSE).Problem:One or several “outliers” can affect the fitting in a significant way18U6. ContoursRobustregressionTry several subsets of points puntos and choose the one with better result (minimum error).Least Median Squares Regression:•Choose a random subset of points•Fitthe model to the point subset•Calculate the median of the square errors•Repeatuntil the error is less than a threshold or until the maximum number of iterations is reached19U6. ContoursRansacRansac(Random sample consensus) algorithm:•Choose a random subset of points•Fitthe subset of points to the chosen model•Calculate the number Kof samples such that they fit to the model according to an error threshold•Estimate the fitting error using the Kinliers•Repeatuntil Kis big enough (success) or until the maximum number of iterations is reached (fail)20U6. ContoursHoughtransformcmxyymxcOriginal x-y spacem-c parameters spaceLineLinePointPoint21U6. ContoursHoughtransform,mProblem:Solution:use normal form of a line equationsincosyx22U6. ContoursHoughtransform: algorithm•Discretizetheparameterspace(rho-theta)•Consider each cell as an accumulator initialized to zero•For each edgel(x,y) increment the cell accumulators that hold the previous equation•The cell accumulators with máximum values define the parameters of the model23U6. ContoursHoughtransform: detectionprocess24U6. ContoursHough transform: example25U6. ContoursHoughtransform: othergeometriesCircumferenceEllipsis…Any type of curve that can be analytically expressed222)()(rbyax1)()(220220byyaxx26U6. ContoursCírcumferences: naïvemethod222)()(rbyax27U6. ContoursCircumferences: example28U6. ContoursEllipsis detectionOriginalBordersDetected ellipsis (in white)29U6. ContoursHough transformAdvantages:•Robust to noise and occlusions•Robust to presence of other forms•Detection of multiple instances at the same timeDisadvantages:•Detection of false positives•Computational cost•Resolution of accumulator space•Peak localization30U6. ContoursHough transform: computational costComputational cost depends on:•Image size•Accumulator space sizeNº parameters and resolution•Number of edgels and amount of noiseSome strategies to reduce cost: •Pre-calculate sinus and co-sinus values•Multi-resolution: start with little resolution•Divide image into sub-images•Combinatorial Hough transform•Parallelize the implementation31U6. ContoursCombinatorial Hough transform→→Only votes for parameters of lines formed by point pairs32U6. ContoursAccumulator space sizeWhat is the appropriate size of the accumulator space?•Too small:Low precisionMore tolerance to noise•Too bigA lot of computational resources33U6. ContoursPeak sparsity34U6. ContoursPeakdetectionSmooth accumulator space before peak searchUse clustering techniques“Eliminate” detected peaks after each iterationHow many peaks? Which ones are “true” peaks?•Set a threshold for cell votes•Priorknowledge•Problemconstrains35U6. ContoursDetectionofline segmentsThere are two problems after the line detection:•Each peak represents a line, not a segment•Estimated/found parameters are according to accummulator resolutionStrategies:•For each Hough space cell, keep edgels, not only votes•“Explore” image near the line36U6. ContoursHT: complete exampleCannySobelCannyCanny","libVersion":"0.3.2","langs":""}